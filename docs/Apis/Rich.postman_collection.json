{
	"info": {
		"_postman_id": "6a316b06-a1f8-465e-a48b-238954030864",
		"name": "Rich",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "登录",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "code",
									"value": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{api_host}}/authorizations",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"authorizations"
							]
						},
						"description": "通过微信小程序的Code获得后端服务器的Access Token"
					},
					"response": []
				},
				{
					"name": "更新",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/authorizations/current",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"authorizations",
								"current"
							]
						},
						"description": "通过已过期的Access Token换取新的可用Access Token"
					},
					"response": []
				}
			]
		},
		{
			"name": "Cards",
			"item": [
				{
					"name": "获取每天卡片",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/cards",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"cards"
							]
						},
						"description": "请求接口以获取每天的九张卡片"
					},
					"response": [
						{
							"name": "获取每天卡片",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{api_host}}/cards",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"cards"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 01:55:32 +0000"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 01:55:32 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"1b3de7697c9fcde7ab6a638c0a5fdcc1b3f5cac1\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 1,\n        \"is_known\": true,\n        \"name\": \"东方也有MIT\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 6,\n        \"is_known\": true,\n        \"name\": \"传承，新篇章\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 1,\n        \"is_known\": true,\n        \"name\": \"东方也有MIT\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    },\n    {\n        \"id\": 0,\n        \"is_known\": false,\n        \"name\": null,\n        \"series\": null,\n        \"src\": \"https://img.eeyes.net/\"\n    }\n]"
						}
					]
				},
				{
					"name": "获取卡片详情",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/cards/{id}",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"cards",
								"{id}"
							]
						}
					},
					"response": []
				},
				{
					"name": "抽取卡片",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"cards\": [\n\t\t\"32\",\n\t\t\"1\",\n\t\t\"-1\"\n\t]\n}"
						},
						"url": {
							"raw": "{{api_host}}/cards",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"cards"
							]
						},
						"description": "发送卡片数组来抽取卡片，当日未查看卡片时、或抽取卡片不在预选范围内将抛出 400 BadRequest 异常"
					},
					"response": [
						{
							"name": "抽取卡片",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"cards\": [\n\t\t\"16\",\n\t\t\"1\",\n\t\t\"-1\"\n\t]\n}"
								},
								"url": {
									"raw": "{{api_host}}/cards",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"cards"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 06:20:21 +0000"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 06:20:21 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"8eca505bd300fe005019d50e793075e85671066b\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 16,\n        \"name\": \"康桥还是梧桐？\",\n        \"series\": 3,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 1,\n        \"name\": \"东方也有MIT\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 6,\n        \"name\": \"传承，新篇章\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    }\n]"
						}
					]
				},
				{
					"name": "获取抽取的卡片",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/cards/my",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"cards",
								"my"
							]
						},
						"description": "请求此接口获得当日已抽取的卡片，未抽取时将抛出 400 BadReuqest 异常"
					},
					"response": [
						{
							"name": "获取抽取的卡片",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{api_host}}/cards/my",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"cards",
										"my"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 06:22:36 +0000"
								},
								{
									"key": "Date",
									"value": "Sun, 24 Mar 2019 06:22:36 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"8eca505bd300fe005019d50e793075e85671066b\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 16,\n        \"name\": \"康桥还是梧桐？\",\n        \"series\": 3,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 1,\n        \"name\": \"东方也有MIT\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    },\n    {\n        \"id\": 6,\n        \"name\": \"传承，新篇章\",\n        \"series\": 1,\n        \"src\": \"https://img.eeyes.net\"\n    }\n]"
						}
					]
				},
				{
					"name": "获取卡片",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"longitude\": 32.025655652,\n\t\"latitude\": 32.025655652\n}"
						},
						"url": {
							"raw": "{{api_host}}/cards/11",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"cards",
								"11"
							]
						},
						"description": "以PUT方法请求接口，提供经纬度值。后端将验证是否获得卡片。"
					},
					"response": [
						{
							"name": "获取卡片",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"longitude\": 32.025655652,\n\t\"latitude\": 32.025655652\n}"
								},
								"url": {
									"raw": "{{api_host}}/cards/11",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"cards",
										"11"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Thu, 28 Mar 2019 02:38:05 +0000"
								},
								{
									"key": "Date",
									"value": "Thu, 28 Mar 2019 02:38:05 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"516d0619ec8a207cd5cbbb7a303e88cfad44613e\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 11,\n        \"name\": \"印刷术\",\n        \"series\": 2,\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-5.png\",\n        \"longitude\": 108.9837800659,\n        \"latitude\": 34.2468757354\n    }\n]"
						}
					]
				}
			]
		},
		{
			"name": "Prizes",
			"item": [
				{
					"name": "返回奖品列表",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/prizes?can=1",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"prizes"
							],
							"query": [
								{
									"key": "can",
									"value": "1",
									"description": "可选参数，当提供时，将返回当前用户可兑换的奖品"
								}
							]
						},
						"description": "请求该接口得到所有奖品信息，包括卡片需求信息，当提供can参数时，将返回当前用户可以兑换的奖品"
					},
					"response": [
						{
							"name": "返回奖品列表",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{api_host}}/prizes?can=1",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"prizes"
									],
									"query": [
										{
											"key": "can",
											"value": "1",
											"description": "可选参数，当提供时，将返回当前用户可兑换的奖品"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Thu, 28 Mar 2019 03:39:53 +0000"
								},
								{
									"key": "Date",
									"value": "Thu, 28 Mar 2019 03:39:53 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"79cad2c06b4458a5c0a16f90046fe3938886165e\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"name\": null,\n        \"src\": \"https://aaa.bbb.ccc/ddd\",\n        \"requirement\": {\n            \"11\": 1,\n            \"16\": 1\n        },\n        \"remain\": 10\n    }\n]"
						}
					]
				},
				{
					"name": "查看奖品详情",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/prizes/1",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"prizes",
								"1"
							]
						},
						"description": "请求此接口以查看某个奖品详情，应提供 Authorization 请求头，返回内容将包含能否兑换此奖品"
					},
					"response": []
				},
				{
					"name": "换取奖品",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{Access Token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/prizes/1",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"prizes",
								"1"
							]
						},
						"description": "请求此接口以换取相应的奖品，将返回奖品详情与奖券码(UUID)，若无法兑换将抛出 400 Bad Request 错误"
					},
					"response": []
				}
			]
		},
		{
			"name": "Series",
			"item": [
				{
					"name": "获取全部卡组",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/series",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"series"
							]
						},
						"description": "请求此接口获取全部卡组信息"
					},
					"response": [
						{
							"name": "获取全部卡组",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{api_host}}/series",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"series"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Mon, 08 Apr 2019 11:50:27 +0000"
								},
								{
									"key": "Date",
									"value": "Mon, 08 Apr 2019 11:50:27 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"22740fe177a999cd2fd0626870d822ab4fca4837\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 1,\n        \"name\": \"大树西迁\"\n    },\n    {\n        \"id\": 2,\n        \"name\": \"卡布达巨人\"\n    },\n    {\n        \"id\": 3,\n        \"name\": \"亚洲第一食堂\"\n    },\n    {\n        \"id\": 4,\n        \"name\": \"一柱擎天\"\n    },\n    {\n        \"id\": 5,\n        \"name\": \"书院\"\n    }\n]"
						}
					]
				},
				{
					"name": "获取某个牌组已获得卡片",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{Access Token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_host}}/series/2",
							"host": [
								"{{api_host}}"
							],
							"path": [
								"series",
								"2"
							]
						},
						"description": "请求此接口以获取某卡组所有卡片，包含已获得卡片数目的信息"
					},
					"response": [
						{
							"name": "获取某个牌组已获得卡片",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{Access Token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{api_host}}/series/2",
									"host": [
										"{{api_host}}"
									],
									"path": [
										"series",
										"2"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Host",
									"value": "localhost"
								},
								{
									"key": "Date",
									"value": "Mon, 08 Apr 2019 11:58:46 +0000"
								},
								{
									"key": "Date",
									"value": "Mon, 08 Apr 2019 11:58:46 GMT"
								},
								{
									"key": "Connection",
									"value": "close"
								},
								{
									"key": "X-Powered-By",
									"value": "PHP/7.3.0"
								},
								{
									"key": "Cache-Control",
									"value": "private, must-revalidate"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "ETag",
									"value": "\"1c1bd13f938d4e4fc81fa487fd5a25d3c87cbec1\""
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": 7,\n        \"name\": \"巨人\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-1.png\",\n        \"count\": 0\n    },\n    {\n        \"id\": 8,\n        \"name\": \"女神\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-2.png\",\n        \"count\": 0\n    },\n    {\n        \"id\": 9,\n        \"name\": \"司南\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-3.png\",\n        \"count\": 1\n    },\n    {\n        \"id\": 10,\n        \"name\": \"造纸术\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-4.png\",\n        \"count\": 0\n    },\n    {\n        \"id\": 11,\n        \"name\": \"印刷术\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-5.png\",\n        \"count\": 1\n    },\n    {\n        \"id\": 12,\n        \"name\": \"火药\",\n        \"src\": \"https://rich.eeyes.xyz/storage/photos/2-6.png\",\n        \"count\": 0\n    }\n]"
						}
					]
				}
			]
		}
	]
}